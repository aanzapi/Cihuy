<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AI Hub - LuminAI & Text2Video</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body class="bg-gradient-to-br from-gray-900 via-black to-gray-800 text-white font-sans min-h-screen flex flex-col">
  
  <!-- Header -->
  <header class="p-6 bg-gradient-to-r from-purple-800 via-indigo-700 to-purple-900 shadow-xl">
    <h1 class="text-3xl font-bold text-center tracking-wide">‚ú® AI Hub ‚ú®</h1>
    <p class="text-center text-gray-300 mt-2">Powered by LuminAI & Text-to-Video</p>
  </header>

  <!-- Main Content -->
  <main class="flex-1 container mx-auto p-6 grid grid-cols-1 md:grid-cols-2 gap-8">
    
    <!-- LuminAI Chat -->
    <section class="bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-700">
      <h2 class="text-xl font-semibold mb-4">ü§ñ LuminAI Chat</h2>
      
      <div id="chat-box" class="h-80 overflow-y-auto p-4 bg-gray-900 rounded-xl mb-4 space-y-3">
        <div class="text-gray-400 text-center">Start chatting with AI...</div>
      </div>

      <div class="flex space-x-2">
        <input id="chat-input" type="text" placeholder="Type your message..." 
               class="flex-1 p-3 rounded-xl bg-gray-700 text-white outline-none">
        <button onclick="sendMessage()" 
                class="px-4 py-2 bg-indigo-600 hover:bg-indigo-700 rounded-xl shadow">Send</button>
      </div>
    </section>

    <!-- Text to Video -->
    <section class="bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-700">
      <h2 class="text-xl font-semibold mb-4">üé¨ Text to Video</h2>
      
      <textarea id="video-text" placeholder="Enter your video idea..."
                class="w-full p-3 rounded-xl bg-gray-700 text-white outline-none h-32"></textarea>
      
      <button onclick="generateVideo()" 
              class="mt-3 w-full px-4 py-3 bg-pink-600 hover:bg-pink-700 rounded-xl shadow">
        Generate Video
      </button>

      <div id="video-result" class="mt-4"></div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="p-4 bg-gray-900 text-center text-gray-500 text-sm border-t border-gray-800">
    ¬© 2025 AI Hub - Powered by Sxtream API
  </footer>

  <script>
    // Chat Function
    async function sendMessage() {
      const input = document.getElementById("chat-input");
      const chatBox = document.getElementById("chat-box");
      const msg = input.value.trim();
      if (!msg) return;

      // User message
      chatBox.innerHTML += `<div class="text-right"><span class="bg-indigo-600 px-3 py-2 rounded-xl inline-block">${msg}</span></div>`;
      input.value = "";
      chatBox.scrollTop = chatBox.scrollHeight;

      try {
        const res = await axios.get(`https://api.sxtream.xyz/ai/luminai?query=${encodeURIComponent(msg)}`);
        const reply = res.data.result || "No response";

        chatBox.innerHTML += `<div class="text-left"><span class="bg-gray-700 px-3 py-2 rounded-xl inline-block">${reply}</span></div>`;
        chatBox.scrollTop = chatBox.scrollHeight;
      } catch (err) {
        chatBox.innerHTML += `<div class="text-left text-red-500">Error fetching response.</div>`;
      }
    }

    // Text to Video Function
    async function generateVideo() {
      const text = document.getElementById("video-text").value.trim();
      const resultBox = document.getElementById("video-result");
      if (!text) return;

      resultBox.innerHTML = `<p class="text-gray-400">‚è≥ Generating video...</p>`;

      try {
        const res = await axios.post("https://api.sxtream.xyz/ai/texttovideo", { query: text });
        const videoUrl = res.data.result || "";

        if (videoUrl) {
          resultBox.innerHTML = `
            <video controls class="w-full rounded-xl mt-3 shadow">
              <source src="${videoUrl}" type="video/mp4">
              Your browser does not support video.
            </video>`;
        } else {
          resultBox.innerHTML = `<p class="text-red-500">‚ö†Ô∏è Failed to generate video.</p>`;
        }
      } catch (err) {
        resultBox.innerHTML = `<p class="text-red-500">‚ö†Ô∏è Error connecting to API.</p>`;
      }
    }
  </script>
</body>
</html>
